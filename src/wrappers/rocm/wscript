
def options(opt):
    pass

def configure(ctx):
    ctx.setenv("target")
    hipcc = ctx.find_program("hipcc", mandatory=False)
    if hipcc:
        ctx.load(ctx.options.cxx)
        ctx.env.CXX = hipcc
        ctx.env.LINK_CXX = hipcc
        ctx.all_envs["host"].append_unique("DEFINES_ROCM", "HAVE_ROCM")
        ctx.all_envs["target"].append_unique("DEFINES_ROCM", "HAVE_ROCM")
        ctx.env.append_unique("INCLUDES", ctx.all_envs["host"].INCLUDES)
        ctx.env.append_unique("DEFINES" , ctx.all_envs["host"].DEFINES)
        ctx.env.append_unique("CXXFLAGS" , ctx.all_envs["host"].CXXFLAGS)
        ctx.env.append_unique("LINKFLAGS" , ctx.all_envs["host"].LINKFLAGS)
    ctx.setenv("host")
