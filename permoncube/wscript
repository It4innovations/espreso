
source_files = (
    "src/permoncube.cpp",
)

def configure(ctx):
    pass

def build(ctx):
    ctx.env = ctx.all_envs["mpi"]

    ctx.shlib(
        source=source_files,
        target="espmcube",
        use="mesh_includes metis_includes bem_includes",
        install_path=ctx.ROOT + "/libs"
    )


    ctx(
        export_includes = "src",
        name            = "pmcube_includes"
    )
